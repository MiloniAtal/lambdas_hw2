AWSTemplateFormatVersion: "2010-09-09"
Transform: AWS::Serverless-2016-10-31
Description: Python file including external library changed again
# Parameters:
#   RestApi:
#     Type: String
Resources:
  LambdaFunctionTwo:
    Type: AWS::Serverless::Function
    Properties:
      Handler: lambdaTwo.lambda_handler
      Runtime: python3.8
      FunctionName: HW2-LF2-Cloud
      CodeUri: ./src #Directory the source file is
      Role: !ImportValue RoleArn
      Environment:
        Variables:
          opensearchurl: !ImportValue OpensearchEndPoint
      Events:
        GetEndpoint:
          Type: RestApi
          Properties:
            Path: /search
            Method: GET
            ApiId: !ImportValue RestApiId
      # Events:
      #   ApiEvent:
      #     Type: Api
      #     Properties:
      #       Path: https://iav31pdv15.execute-api.us-east-1.amazonaws.com/beta/search
      #       Method: get
  LambdaFunctionOne:
    Type: AWS::Serverless::Function
    Properties:
      Handler: lambdaOne.lambda_handler
      Runtime: python3.8
      FunctionName: HW2-LF1-Cloud
      CodeUri: ./src #Directory the source file is
      Role: !ImportValue RoleArn
      Environment:
          Variables:
            opensearchurl: !ImportValue OpensearchEndPoint
          